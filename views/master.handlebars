<script type="text/javascript">
    Reveal.initialize({history: false, showNotes: true});

    var socket = io.connect("http://"+location.hostname+":3030");
    socket.on("message", function(data){
        console.log(data);
    });

    notifyServer = function(event){
      data = {
        indexv : Reveal.getIndices().v,
        indexh : Reveal.getIndices().h,
        indexf : Reveal.getIndices().f || 0
      }
        socket.emit("slidechanged" , data);
        console.log(data);
    }

    Reveal.addEventListener("slidechanged", notifyServer);

    Reveal.addEventListener("fragmentshown", notifyServer);

    Reveal.addEventListener("fragmenthidden", notifyServer);

</script>
